<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PathFinderAI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <h1>ğŸš€ PathFinderAI</h1>

  <!-- History button at top -->
  <form action="{{ url_for('history_page') }}" method="get" style="margin-bottom:20px;">
    <button type="submit" class="btn">ğŸ“œ Delivery History</button>
  </form>

  <!-- Route calculation form -->
  <form method="post">
    <input name="client"   placeholder="Client Name"    required>
    <input name="driver"   placeholder="Driver Name"    required>
    <input name="pickup"   placeholder="Pickup Address"  required>
    <input name="delivery" placeholder="Delivery Address" required>
    <button type="submit">Calculate Route</button>
  </form>

  <!-- Result preview with timestamp -->
  {% if result %}
    {% if result.error %}
      <div class="error">{{ result.error }}</div>
    {% else %}
      <pre>
ğŸ“… Date:     {{ result.date }}
ğŸ“¦ ID:       {{ result.id }}
ğŸ‘¤ Client:   {{ result.client }}
ğŸšš Driver:   {{ result.driver }}
ğŸ“ Route:    {{ result.route }}
ğŸ“ Distance: {{ result.distance }}
â±ï¸ Time:      {{ result.time }}
      </pre>
    {% endif %}
  {% endif %}

  <!-- Map embed -->
  {% if map_html %}
    <div class="map-container">
      {{ map_html|safe }}
    </div>
  {% endif %}
</body>
</html>
